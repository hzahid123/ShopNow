<div class="full-bg-container">
  <!-- Background overlay for better readability -->
  <div class="bg-overlay"></div>
     
  <!-- Logo positioned at top -->
  <div class="logo-container">
    <ng-container *ngIf="options.theme === 'light'">
      <a [routerLink]="['/dashboards/dashboard1']">
        <img src="./assets/images/logos/dark-logo.svg" class="logo" alt="logo" />
      </a>
    </ng-container>
    <ng-container *ngIf="options.theme === 'dark'">
      <a [routerLink]="['/dashboards/dashboard1']">
        <img src="./assets/images/logos/light-logo.svg" class="logo" alt="logo" />
      </a>
    </ng-container>
  </div>
 
  <!-- Centered form card -->
  <div class="login-card-container">
    <div class="login-card">
      <h4 class="f-w-700 f-s-24 m-0 text-center">Welcome to Dry Run</h4>
      <span class="f-s-14 d-block mat-body-1 m-t-8 text-center">Your Store Management Portal</span>
       
      <form class="m-t-30" [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
        
        <!-- Store Name -->
        <div class="form-group">
          <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Store Name</mat-label>
          <mat-form-field appearance="outline" class="w-100" color="primary">
            <input 
              matInput 
              type="text" 
              formControlName="storeName" 
              autocomplete="organization"
              placeholder="Enter your store name"
            />
            <mat-error *ngIf="hasError('storeName')">
              {{ getErrorMessage('storeName') }}
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Email or Username -->
        <div class="form-group">
          <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Email or Username</mat-label>
          <mat-form-field appearance="outline" class="w-100" color="primary">
            <input 
              matInput 
              type="text" 
              formControlName="ownerEmailOrUserName" 
              autocomplete="username"
              placeholder="Enter email or username"
            />
            <mat-error *ngIf="hasError('ownerEmailOrUserName')">
              {{ getErrorMessage('ownerEmailOrUserName') }}
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Owner Name -->
        <div class="form-group">
          <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Name</mat-label>
          <mat-form-field appearance="outline" class="w-100" color="primary">
            <input 
              matInput 
              type="text" 
              formControlName="ownerName" 
              autocomplete="given-name"
              placeholder="Enter your first name"
            />
            <mat-error *ngIf="hasError('ownerName')">
              {{ getErrorMessage('ownerName') }}
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Owner Surname -->
        <div class="form-group">
          <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Surname</mat-label>
          <mat-form-field appearance="outline" class="w-100" color="primary">
            <input 
              matInput 
              type="text" 
              formControlName="ownerSurname" 
              autocomplete="family-name"
              placeholder="Enter your last name"
            />
            <mat-error *ngIf="hasError('ownerSurname')">
              {{ getErrorMessage('ownerSurname') }}
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Submit Button -->
        <button 
          mat-flat-button 
          color="primary" 
          class="w-100 m-t-16" 
          type="submit"
          [disabled]="loading"
        >
          <mat-icon *ngIf="loading" class="m-r-8">
            <mat-spinner diameter="20"></mat-spinner>
          </mat-icon>
          {{ loading ? 'Processing...' : 'Login' }}
        </button>

        <!-- Form Debug Info (Remove in production) -->
        <div *ngIf="submitted && loginForm.invalid" class="m-t-16 p-16 bg-light-error text-error rounded">
          <strong>Please fix the following errors:</strong>
          <ul class="m-t-8 m-b-0">
            <li *ngIf="hasError('storeName')">{{ getErrorMessage('storeName') }}</li>
            <li *ngIf="hasError('ownerEmailOrUserName')">{{ getErrorMessage('ownerEmailOrUserName') }}</li>
            <li *ngIf="hasError('ownerName')">{{ getErrorMessage('ownerName') }}</li>
            <li *ngIf="hasError('ownerSurname')">{{ getErrorMessage('ownerSurname') }}</li>
          </ul>
        </div>
      </form>

      <!-- Register Link -->
      <span class="d-block f-w-500 m-t-24 text-center">
        New to Dry Run?
        <a [routerLink]="['/authentication/authentication/register-seller']" class="text-decoration-none text-primary f-w-500 f-s-14">
          Create an account
        </a>
      </span>
    </div>
  </div>
</div>