import { Component, OnInit } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { SharedModule } from 'src/app/shared/shared.module'; // adjust path as needed
import { MessagesNotificationService } from 'src/app/services/messagesNotification.services';
import { MessageService } from 'primeng/api';

interface Store {
  id: string;

  storeName: string;
  ownerFirstName: string;
  ownerSurname: string;
  emailAddress: string;
  imageUrl?: string;
}

@Component({
  selector: 'app-all-stores',
  standalone: true,
  imports: [SharedModule],
  providers: [MessagesNotificationService,MessageService],
  templateUrl: './all-stores.component.html',
  styleUrls: ['./all-stores.component.scss']
})

export class AllStoresComponent implements OnInit {
  stores: Store[] = [];             // Full list of stores from API
  filteredStores: Store[] = [];     // Filtered list for search
  loading: boolean = true;          // Loading state
  error: string = '';               // Error message
  searchTerm: string = '';          // Search input value

  defaultImg: string = 'https://via.placeholder.com/300x200?text=Store+Image';

  constructor(private http: HttpClient,
    private messagesNotificationService: MessagesNotificationService // <-- inject here
  ) { }

  ngOnInit(): void {
    this.loadDummyStores();

    // this.loadDummyStores(); // use this instead if you wanna test with dummy data
  }

  getStores(): void {
    this.loading = true;
    this.http.get<any>('https://your-base-url.com/api/services/app/Store/GetAllStores')
      .subscribe({
        next: (data: any) => {
          // Swagger gives "items" directly, not result.items
          this.stores = data?.items || [];
          this.filteredStores = this.stores;
          this.loading = false;
        },
        error: (err) => {
          console.error('Error fetching store data:', err);
          this.error = 'An error occurred while fetching store data.';
          this.loading = false;
        }
      });
  }

  // Dummy data for styling/testing only (commented)
  loadDummyStores(): void {
    this.stores = [
      {
        id: '1',
        storeName: 'Kitchen',
        ownerFirstName: 'Ali',
        ownerSurname: 'Khan',
        emailAddress: 'chaiwala@example.com',
        imageUrl: 'https://images.pexels.com/photos/958545/pexels-photo-958545.jpeg?cs=srgb&dl=pexels-chanwalrus-958545.jpg&fm=jpg'
      },
      {
        id: '2',
        storeName: 'Book n Bean',
        ownerFirstName: 'Sara',
        ownerSurname: 'Shaikh',
        emailAddress: 'booknbean@example.com',
        imageUrl: 'data:image/jpeg;base64,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'
      },
      {
        id: '3',
        storeName: 'The Trendy Boutique',
        ownerFirstName: 'Neha',
        ownerSurname: 'Singh',
        emailAddress: 'trendy@example.com',
        imageUrl: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhmWM275W_9cZfubEZKn7D1MRIkyuafiJT9A&s'
      },
      {
        id: '4',
        storeName: 'Fresh Mart',
        ownerFirstName: 'Ravi',
        ownerSurname: 'Kumar',
        emailAddress: 'freshmart@example.com',
        imageUrl: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUHbqRhLI5JxVBZHqQXVIUAjbwqlJZwHj6Iw&s'
      },
      {
        id: '5',
        storeName: 'Tech World',
        ownerFirstName: 'Faizan',
        ownerSurname: 'Ahmad',
        emailAddress: 'techworld@example.com',
        imageUrl: 'data:image/jpeg;base64,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'
      },

    ];

    this.filteredStores = this.stores;
    this.loading = false;
  }


  /**
   * Filters the list of stores based on the user's search term.
   */
  onSearchChange(): void {
    const term = this.searchTerm.toLowerCase();
    this.filteredStores = this.stores.filter(store =>
      store.storeName.toLowerCase().includes(term) ||
      store.ownerFirstName.toLowerCase().includes(term) ||
      store.ownerSurname.toLowerCase().includes(term) ||
      store.emailAddress.toLowerCase().includes(term)
    );

    this.messagesNotificationService.showErrorMessage('Error'); // <-- use injected property
  }
}